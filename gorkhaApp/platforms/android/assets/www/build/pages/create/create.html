<ion-navbar *navbar class="no-shadow">
  <ion-title>
    Create {{data.entityTitle}}
  </ion-title>
   <ion-buttons start>
    <button (click)="dismiss()">
      <span primary showWhen="ios">Cancel</span>
      <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
    </button>
  </ion-buttons>
</ion-navbar>

<ion-content padding class="create-form">
    
    <axelor-form entity="{{entity}}" abstract="false" (onsave)="saveRecord($event)">
        <ion-card>
            <ion-card-header [class]="data.appearance">
                New {{data.entityTitle}}
            </ion-card-header>
            <ion-card-content>
                <div *ngFor="#fc of data.formControls">
                    <span [ngSwitch]="fc.formControl">
                        
                        <axelor-input *ngSwitchWhen="'com.form.control.input'" [axelorControl]="fc.axelorControl" [x-type]="fc.type" [x-label]="fc.label" [x-required]="fc.required" [x-required-msg]="fc.requiredMsg" [x-valid-if]="fc.validIf" [x-valid-if-msg]="fc.validIfMsg" x-min-length="{{fc.minLen}}" [x-max-length]="fc.maxLen" [x-regex]="fc.regex" [x-regex-msg]="fc.regexMsg"></axelor-input>
                        
                        <axelor-password *ngSwitchWhen="'com.form.control.password'" [axelorControl]="fc.axelorControl" [x-label]="fc.label" [x-required]="fc.required" [x-required-msg]="fc.requiredMsg" [x-valid-if]="fc.validIf" [x-valid-if-msg]="fc.validIfMsg" x-min-length="{{fc.minLen}}" [x-max-length]="fc.maxLen" [x-regex]="fc.regex" [x-regex-msg]="fc.regexMsg"></axelor-password>
                        
                        <axelor-select *ngSwitchWhen="'com.form.control.select'" [axelorControl]="fc.axelorControl" [x-label]="fc.label" [x-multiple]="fc.multiple">
                            <axelor-select-option *ngFor="#opt of fc.optionControls" [x-value]="opt.value" [x-checked]="opt.selected">{{opt.label}}</axelor-select-option>
                        </axelor-select>
                        
                        <axelor-button *ngSwitchWhen="'com.form.control.button'" [x-label]="fc.label" [color]="fc.color"></axelor-button>
                        
                        <axelor-reference *ngSwitchWhen="'com.form.control.one.to.many'" [entity]="fc.entity" [axelorControl]="fc.axelorControl" [x-label]="fc.label" [x-required]="fc.required" [x-required-msg]="fc.requiredMsg" [x-valid-if]="fc.validIf" [x-valid-if-msg]="fc.validIfMsg"></axelor-reference>

                        <p *ngSwitchDefault>{{fc.formControl}}</p>            
                    </span> 
                </div>    
            </ion-card-content>
        </ion-card>
    </axelor-form>
    
    
</ion-content>